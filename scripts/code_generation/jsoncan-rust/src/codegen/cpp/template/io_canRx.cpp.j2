/**
 * @note This file is auto-generated. Do not modify!
 */
// clang-format off

/* ------------------------------- Includes ------------------------------- */

#include "io_canRx.hpp"
#include "app_canRx.hpp"
#include "app_canUtils.hpp"

namespace io::can_rx {
/* ------------------------- Function Definitions ------------------------- */
// each bus has its own filter function
{% for (bus_name, messages) in messages_on_busses -%}
bool filterMessageId_{{bus_name}}(const uint32_t std_id)
{
    switch (std_id)
    {
        {%- if messages.len() > 0 %}
        {%- for msg in messages %}
        case app::can_utils::{{msg.id_macro()}}:
        {%- endfor %}
            return true;
        {%- endif %}
        default:
        {
            // Do nothing
            break;
        }
    }
    return false;
}
{% endfor %}


void updateRxTableWithMessage(const JsonCanMsg& msg)
{
    switch (msg.std_id)
    {
        {%- for (bus_name, messages) in messages_on_busses %}
        {%- for msg in messages %}
        case app::can_utils::{{msg.id_macro()}}:
        {
            {% if msg.signals.len() > 0 %}
            const app::can_utils::{{msg.name}}_Signals out_msg{msg.data};
            {%- for signal in msg.signals %}
            app::can_rx::{{signal.name}}_update(out_msg.{{signal.name}}_value);
            {%- endfor %}
            {% endif %}
            break;
        }
        {%- endfor %}
        {%- endfor %}
        default:
        {
            // Do nothing
            break;
        }
    }
}
}