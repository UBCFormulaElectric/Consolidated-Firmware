services:
  develop:
    build: environment
    image: ubcformulaelectric/environment:latest
    container_name: ubcformulaelectric-develop
    volumes:
      # Mount repo files into container.
      - .:/root/Consolidated-Firmware
      # Forward USB connections.
      - /dev/bus/usb:/dev/bus/usb
    environment:
      # Set an environment variable set scripts can check if they're running inside the container.
      - DEV_CONTAINER=true
    tty: true # Keeps service running indefinitely.
    privileged: true # Required for USB passthrough to work.
